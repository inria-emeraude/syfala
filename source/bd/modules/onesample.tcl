
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# 1 PORTS
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------


# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# 2 IP/MODULES
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------


# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# 3 CONNECTIONS
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# Transceiver <-> IP Faust
# -----------------------------------------------------------------------------

if {$::rt::nchannels_i == 1} {
    # ---------------------------------------------------
    connect "pins" syfala/audio_in                   \
            "pins" i2s_transceiver_0/to_faust_ch0
    # ---------------------------------------------------
} else {
    foreach_n $::rt::nchannels_i {{n} {
    # ---------------------------------------------------
    connect "pins" syfala/audio_in_$n                   \
            "pins" i2s_transceiver_0/to_faust_ch$n
    }}
}

if {$::rt::nchannels_o == 1} {
    # ---------------------------------------------------
    connect "pins" syfala/audio_out                     \
            "pins" i2s_transceiver_0/from_faust_ch0
    # ---------------------------------------------------
    connect "pins" syfala/audio_out_ap_vld              \
            "pins" i2s_transceiver_0/from_faust_ch0_ap_vld
} else {
    # ---------------------------------------------------
    foreach_n $::rt::nchannels_o {{n} {
    # ---------------------------------------------------
    connect "pins" syfala/audio_out_$n                  \
            "pins" i2s_transceiver_0/from_faust_ch$n
    # ---------------------------------------------------
    connect "pins" syfala/audio_out_$n\_ap_vld          \
            "pins" i2s_transceiver_0/from_faust_ch$n\_ap_vld
    }}
}

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# 4 ADDRESSES
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
